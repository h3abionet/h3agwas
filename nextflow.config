
params {

    message = 'hi there!'
    snvName = 'NULL'
    cohortName = 'NULL'
    email = 'NULL'
    samplesWithPoorClinicalData = 'NULL'
    inputDir = "${launchDir}/input/"
    outputDir = "${launchDir}/output/"
    threads = "1"
    sampleReport = 'NULL'
    snpReport = 'NULL'

}

profiles {

    docker {
        docker.enabled = true
        process.executor = 'local'
        docker.process.executor = 'local'
        process {
            withLabel:tidyverse {
                container = "rocker/tidyverse"
            }
            withLabel:qqman {
                container = "sickleinafrica/r-qqman"
            }
            withLabel:plink {
                container = "quay.io/h3abionet_org/py3plink"
            }
            withLabel:datatable {
                container = "sickleinafrica/py3-pandas-datatable"
            }
        }
    }

    chpc {
        singularity.autoMounts = true
        singularity.enabled = true
        params.containersDir = "/mnt/lustre3p/groups/CBBI1243/SharedResources/containers/"


        executor {
            name = 'pbspro'
            queue = 'serial'
            queueSize = 10
        }

        process {
            cpus = 24
            time = 1.h
            memory = 100.GB
            clusterOptions = '-P CBBI1243 -l select=1 -m b'
            withLabel:smallMemory { 
                cpus = 2
                time = 5.m 
                memory = 5.GB    
            }
            withLabel:bigMemory {
                time = 30.m
                memory = 100.GB
            }
            withLabel:tidyverse {
                container = "${params.containersDir}tidyverse_latest.sif"
            }
            withLabel:qqman {
                container = "${params.containersDir}r-qqman_latest.sif"
            }
            withLabel:plink {
                container = "${params.containersDir}py3plink_latest.sif"
            }
            withLabel:datatable {
                container = "${params.containersDir}py3-pandas-datatable"
            }
        }
    }
    
}
